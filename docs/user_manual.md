# C-drive空间管理器 用户手册

## 目录
1. [产品概述](#产品概述)
2. [系统要求](#系统要求)
3. [安装指南](#安装指南)
4. [快速入门](#快速入门)
5. [功能详解](#功能详解)
6. [高级功能](#高级功能)
7. [故障排除](#故障排除)
8. [常见问题](#常见问题)
9. [技术支持](#技术支持)

## 产品概述

C-drive空间管理器是一款专业的磁盘空间管理工具，专为Windows系统设计。它能够帮助用户：

- **智能扫描**：快速识别C盘中的大文件和文件夹
- **安全迁移**：将文件迁移到其他磁盘，释放C盘空间
- **实时监控**：实时跟踪磁盘空间使用情况
- **性能优化**：提供多种性能优化选项
- **错误恢复**：完善的错误处理和恢复机制

### 主要特性

- 🚀 **高性能**：采用Rust编写，运行速度快，资源占用低
- 🔍 **智能分析**：C盘专项扫描模式，快速定位空间占用
- 🛡️ **安全可靠**：完整的备份和恢复机制，确保数据安全
- 📊 **可视化界面**：直观的图形界面，操作简单易懂
- ⚡ **实时优化**：内存和性能优化，处理大文件无压力

## 系统要求

### 最低系统要求
- **操作系统**：Windows 10 64位 或更高版本
- **处理器**：Intel Core i3 或同等性能
- **内存**：4GB RAM
- **磁盘空间**：100MB 可用空间
- **显示器**：1366x768 分辨率

### 推荐系统配置
- **操作系统**：Windows 11 64位
- **处理器**：Intel Core i5 或更高
- **内存**：8GB RAM 或更多
- **磁盘空间**：500MB 可用空间
- **显示器**：1920x1080 分辨率

## 安装指南

### 下载安装包
1. 访问官方网站：[https://www.dir-mover.com](https://www.dir-mover.com)
2. 点击"下载"按钮，选择适合您系统的版本
3. 下载完成后，双击安装包开始安装

### 安装步骤
1. **运行安装程序**：双击下载的 `dir-mover-setup.exe` 文件
2. **选择安装位置**：建议使用默认安装路径 `C:\Program Files\DirMover`
3. **选择组件**：保持默认选项即可
4. **完成安装**：点击"安装"按钮，等待安装完成
5. **启动程序**：安装完成后，可以选择立即启动程序

### 首次运行
首次运行时，程序会：
- 检查系统兼容性
- 创建必要的配置文件
- 初始化日志系统
- 显示欢迎界面

## 快速入门

### 第一步：启动程序
双击桌面上的"C-drive空间管理器"图标，或从开始菜单中找到并启动程序。

### 第二步：扫描C盘
1. 在主界面点击"扫描C盘"按钮
2. 选择扫描模式（推荐使用"C盘专项扫描"）
3. 等待扫描完成，查看结果

### 第三步：分析结果
扫描完成后，您将看到：
- **目录树**：以树形结构显示C盘内容
- **文件大小**：每个文件和文件夹的大小
- **大文件夹标识**：自动标记占用空间较大的文件夹
- **扫描统计**：总文件数、总大小等信息

### 第四步：选择要迁移的内容
1. 在目录树中找到要迁移的文件夹
2. 右键点击，选择"迁移此文件夹"
3. 在弹出的对话框中设置迁移选项

### 第五步：执行迁移
1. 选择目标路径（建议选择D盘或其他非系统盘）
2. 配置迁移选项（是否创建符号链接、是否删除源文件等）
3. 点击"开始迁移"，等待操作完成

## 功能详解

### 1. 磁盘扫描功能

#### 基本扫描
- **功能描述**：扫描指定目录，显示文件结构
- **使用方法**：点击"扫描目录"按钮，选择要扫描的路径
- **扫描结果**：显示文件数量、总大小、目录结构

#### C盘专项扫描
- **功能描述**：专门针对C盘的优化扫描模式
- **特点**：
  - 自动识别大文件夹（>100MB）
  - 优化扫描算法，提高扫描速度
  - 减少系统资源占用
- **使用方法**：选择"C盘专项扫描"选项

#### 扫描进度监控
- **实时进度**：显示当前扫描进度百分比
- **详细信息**：显示当前扫描路径、已处理文件数
- **预计时间**：根据扫描速度估算剩余时间
- **取消扫描**：随时可以停止扫描操作

### 2. 文件迁移功能

#### 基本迁移
- **功能描述**：将文件或文件夹从一个位置移动到另一个位置
- **操作步骤**：
  1. 选择源文件夹
  2. 选择目标路径
  3. 配置迁移选项
  4. 执行迁移

#### 高级迁移选项
- **创建符号链接**：在源位置创建指向新位置的链接
- **删除源文件**：迁移完成后删除原始文件
- **保留文件属性**：保持文件的创建时间、修改时间等属性
- **错误处理**：遇到错误时的处理方式（跳过、重试、中止）

#### 迁移验证
- **完整性检查**：验证所有文件都已成功迁移
- **大小验证**：确认迁移后的文件大小与源文件一致
- **权限验证**：检查目标位置的访问权限

### 3. 性能优化功能

#### 内存优化
- **内存监控**：实时监控程序内存使用情况
- **自动清理**：当内存使用超过阈值时自动清理
- **缓存管理**：智能缓存目录信息，提高重复操作性能

#### 批处理优化
- **批量操作**：支持同时处理多个文件或文件夹
- **优先级队列**：根据文件大小和重要性安排处理顺序
- **并发控制**：限制同时进行的操作数量，防止系统过载

#### 缓存优化
- **目录缓存**：缓存最近访问的目录信息
- **缓存命中率**：显示缓存使用效果
- **缓存清理**：手动或自动清理过期缓存

### 4. 错误处理和恢复

#### 错误检测
- **权限错误**：检测文件访问权限问题
- **磁盘空间错误**：检查目标磁盘可用空间
- **路径错误**：验证源路径和目标路径的有效性
- **系统保护**：避免操作系统保护目录

#### 自动恢复
- **重试机制**：自动重试失败的操作
- **部分回滚**：在出现错误时回滚已完成的操作
- **备份机制**：在操作前自动创建备份
- **错误日志**：详细记录所有错误信息

## 高级功能

### 1. 操作日志系统

#### 日志记录
- **操作记录**：记录所有用户操作
- **时间戳**：精确记录操作时间
- **操作结果**：记录操作成功或失败状态
- **详细信息**：包含操作参数、错误信息等

#### 日志查询
- **按类型筛选**：按操作类型筛选日志
- **按状态筛选**：按成功/失败状态筛选
- **按时间筛选**：按时间范围筛选日志
- **导出功能**：将日志导出为CSV格式

#### 统计分析
- **操作统计**：统计各类操作的数量和成功率
- **性能统计**：分析操作耗时和性能趋势
- **错误统计**：统计各类错误的发生频率

### 2. 性能监控

#### 实时监控
- **内存使用**：实时显示内存使用情况
- **缓存性能**：显示缓存命中率和效果
- **批处理队列**：显示待处理任务数量
- **性能评分**：综合评估系统性能

#### 性能基准
- **内存评分**：评估内存使用效率
- **缓存评分**：评估缓存性能
- **并发评分**：评估并发处理能力
- **综合评分**：整体性能评估

#### 优化建议
- **内存优化**：当内存使用过高时的建议
- **缓存优化**：当缓存命中率低时的建议
- **并发优化**：当队列积压时的建议

### 3. 测试和验证

#### 综合测试
- **单元测试**：测试各个功能模块
- **集成测试**：测试模块间的协作
- **端到端测试**：测试完整用户流程
- **性能测试**：测试系统性能极限

#### 压力测试
- **内存压力测试**：测试高内存使用场景
- **磁盘压力测试**：测试大量文件操作
- **并发压力测试**：测试多任务并行处理

## 故障排除

### 常见问题及解决方案

#### 问题1：扫描速度很慢
**可能原因**：
- 扫描的目录包含大量小文件
- 磁盘I/O性能较差
- 系统资源不足

**解决方案**：
1. 使用"C盘专项扫描"模式
2. 分批扫描大目录
3. 关闭其他占用资源的程序
4. 检查磁盘健康状况

#### 问题2：迁移操作失败
**可能原因**：
- 目标磁盘空间不足
- 文件正在被其他程序使用
- 权限不足

**解决方案**：
1. 检查目标磁盘可用空间
2. 关闭可能使用该文件的程序
3. 以管理员身份运行程序
4. 检查文件权限设置

#### 问题3：程序崩溃或无响应
**可能原因**：
- 内存使用过高
- 处理超大文件
- 系统资源耗尽

**解决方案**：
1. 重启程序
2. 分批处理大文件
3. 增加系统内存
4. 使用性能优化功能

#### 问题4：符号链接创建失败
**可能原因**：
- 系统不支持符号链接
- 权限不足
- 目标路径不存在

**解决方案**：
1. 确保系统支持符号链接（Windows 10+）
2. 以管理员身份运行
3. 确保目标路径存在
4. 检查文件系统类型（NTFS支持，FAT32不支持）

### 错误代码说明

| 错误代码 | 描述 | 解决方案 |
|---------|------|----------|
| ERR001 | 路径不存在 | 检查输入的路径是否正确 |
| ERR002 | 权限被拒绝 | 以管理员身份运行程序 |
| ERR003 | 磁盘空间不足 | 清理目标磁盘或选择其他位置 |
| ERR004 | 文件正在使用 | 关闭使用该文件的程序 |
| ERR005 | 系统保护目录 | 不要操作系统保护目录 |
| ERR006 | 网络错误 | 检查网络连接 |
| ERR007 | 超时错误 | 增加超时时间或分批处理 |

## 常见问题

### Q1: 程序是否安全？会不会删除我的文件？
**A**: 是的，程序非常安全。我们采用了多重保护机制：
- 所有操作前都会创建备份
- 支持符号链接，保持原路径可用
- 详细的操作日志，可追踪所有变更
- 完整的错误恢复机制

### Q2: 可以迁移系统文件吗？
**A**: 不建议迁移系统文件。程序会自动识别和保护系统关键目录，包括：
- Windows系统目录
- Program Files目录
- 用户配置目录
- 系统恢复目录

### Q3: 支持哪些文件系统？
**A**: 程序支持以下文件系统：
- NTFS（推荐，支持所有功能）
- FAT32（基本功能，不支持符号链接）
- exFAT（基本功能）

### Q4: 最大支持多大的文件？
**A**: 理论上没有文件大小限制，但建议：
- 单个文件不超过100GB
- 批量操作总大小不超过1TB
- 对于超大文件，建议使用分批处理

### Q5: 可以同时迁移多个文件夹吗？
**A**: 是的，程序支持并发操作，但建议：
- 最多5个并发任务
- 总文件数不超过10000个
- 使用批处理功能提高效率

### Q6: 如何恢复误删除的文件？
**A**: 程序提供了多种恢复方式：
1. 检查操作日志，找到删除记录
2. 使用备份恢复功能
3. 查看符号链接指向的位置
4. 联系技术支持获取帮助

## 技术支持

### 官方支持渠道
- **官方网站**：[https://www.dir-mover.com](https://www.dir-mover.com)
- **技术文档**：[https://docs.dir-mover.com](https://docs.dir-mover.com)
- **社区论坛**：[https://forum.dir-mover.com](https://forum.dir-mover.com)
- **GitHub仓库**：[https://github.com/dir-mover/c-drive-space-manager](https://github.com/dir-mover/c-drive-space-manager)

### 联系技术支持
如果您遇到问题，可以通过以下方式联系我们：

**邮箱支持**：support@dir-mover.com
- 响应时间：24小时内
- 提供详细的错误信息和操作步骤

**在线客服**：工作日 9:00-18:00
- 实时聊天支持
- 远程协助（如需要）

**电话支持**：400-123-4567
- 工作日 9:00-18:00
- 紧急情况可延长至21:00

### 提交问题报告
当您提交问题报告时，请提供以下信息：
1. 程序版本号
2. 操作系统版本
3. 详细的错误描述
4. 操作步骤
5. 相关日志文件
6. 截图（如适用）

### 更新和支持政策
- **免费更新**：购买后一年内免费更新
- **技术支持**：购买后两年内免费技术支持
- **安全更新**：终身免费安全更新
- **功能更新**：根据用户反馈持续改进

---

**最后更新时间**：2024年1月
**版本**：v1.0.0
**版权所有**：DirMover Technology Co., Ltd.